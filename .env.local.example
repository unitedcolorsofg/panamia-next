# =============================================================================
# Environment Variables Configuration
# =============================================================================
#
# Copy this file to .env.local and fill in the values.
#
# Location annotations:
#   [SECRET] - Store in GitHub Secrets (sensitive, encrypted)
#   [VAR]    - Store in GitHub Variables (non-sensitive, visible in logs)
#   [LOCAL]  - Only needed for local development
#
# See lib/env.config.ts for the canonical source of truth.
# Run `npm run env:check` to validate your configuration.
#
# =============================================================================

# =============================================================================
# DATABASE
# =============================================================================

# [VAR] Use in-memory PostgreSQL for testing (CI only)
USE_MEMORY_POSTGRES=false

# [SECRET] PostgreSQL connection string (Neon) - REQUIRED
# https://neon.tech/docs/introduction
POSTGRES_URL=postgres://user:password@host:5432/database?sslmode=require

# =============================================================================
# AUTHENTICATION (NextAuth)
# =============================================================================

# [SECRET] NextAuth.js encryption secret
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your_nextauth_secret_here

# [VAR] Base URL for NextAuth callbacks
NEXTAUTH_URL=http://localhost:3000

# =============================================================================
# HOST CONFIGURATION
# =============================================================================

# [VAR] Public-facing site URL
NEXT_PUBLIC_HOST_URL=http://localhost:3000

# =============================================================================
# ADMIN
# =============================================================================

# [SECRET] Comma-separated list of admin email addresses
ADMIN_EMAILS=admin1@example.com,admin2@example.com

# =============================================================================
# OAUTH PROVIDERS - Google
# https://console.cloud.google.com/apis/credentials
# =============================================================================

# [VAR] Google OAuth client ID
GOOGLE_CLIENT_ID=your_google_client_id_here

# [SECRET] Google OAuth client secret
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# =============================================================================
# OAUTH PROVIDERS - Apple
# https://developer.apple.com/account/resources/identifiers/list/serviceId
# =============================================================================

# [VAR] Apple OAuth client ID (Services ID)
APPLE_CLIENT_ID=your_apple_client_id_here

# [SECRET] Apple OAuth client secret (signed JWT)
APPLE_CLIENT_SECRET=your_apple_client_secret_here

# =============================================================================
# OAUTH PROVIDERS - Wikimedia
# https://meta.wikimedia.org/wiki/Special:OAuthConsumerRegistration
# =============================================================================

# [VAR] Wikimedia OAuth client ID
WIKIMEDIA_CLIENT_ID=your_wikimedia_client_id_here

# [SECRET] Wikimedia OAuth client secret
WIKIMEDIA_CLIENT_SECRET=your_wikimedia_client_secret_here

# =============================================================================
# OAUTH PROVIDERS - Mastodon
# Create an application on your Mastodon instance
# =============================================================================

# [VAR] Mastodon instance URL for OAuth
MASTODON_INSTANCE=https://mastodon.social

# [VAR] Mastodon OAuth client ID
MASTODON_CLIENT_ID=your_mastodon_client_id_here

# [SECRET] Mastodon OAuth client secret
MASTODON_CLIENT_SECRET=your_mastodon_client_secret_here

# =============================================================================
# OAUTH PROVIDERS - UI Visibility
# Set to 'true' to show sign-in button (also requires credentials above)
# =============================================================================

# [VAR] Show Google sign-in button
NEXT_PUBLIC_GOOGLE_ENABLED=true

# [VAR] Show Apple sign-in button
NEXT_PUBLIC_APPLE_ENABLED=false

# [VAR] Show Wikimedia sign-in button
NEXT_PUBLIC_WIKIMEDIA_ENABLED=false

# [VAR] Show Mastodon sign-in button
NEXT_PUBLIC_MASTODON_ENABLED=false

# =============================================================================
# OAUTH PROVIDERS - Trust Level
# Values: trusted | verification-required | disabled
#
# - trusted: Provider verifies email ownership (auto-claim enabled)
# - verification-required: Email verification required before sign-in
# - disabled: Provider button greyed out on sign-in page
# =============================================================================

# [VAR] Google OAuth trust level
OAUTH_GOOGLE=trusted

# [VAR] Apple OAuth trust level
OAUTH_APPLE=trusted

# [VAR] Wikimedia OAuth trust level
OAUTH_WIKIMEDIA=verification-required

# [VAR] Mastodon.social OAuth trust level
OAUTH_MASTODON_SOCIAL=trusted

# =============================================================================
# RECAPTCHA
# https://www.google.com/recaptcha/admin
# =============================================================================

# [VAR] Google reCAPTCHA v3 site key (public)
NEXT_PUBLIC_RECAPTCHA_SITE_KEY=your_recaptcha_site_key_here

# [SECRET] Google reCAPTCHA v3 secret key
RECAPTCHA_SECRET_KEY=your_recaptcha_secret_key_here

# =============================================================================
# EMAIL (SMTP for magic links)
# =============================================================================

# [VAR] From address for magic link emails
EMAIL_FROM=noreply@example.com

# [VAR] SMTP server hostname
EMAIL_SERVER_HOST=smtp.example.com

# [VAR] SMTP server port
EMAIL_SERVER_PORT=587

# [VAR] SMTP username
EMAIL_SERVER_USER=your_smtp_username

# [SECRET] SMTP password
EMAIL_SERVER_PASSWORD=your_smtp_password

# =============================================================================
# BREVO (Email Service)
# https://app.brevo.com/settings/keys/api
# =============================================================================

# [SECRET] Brevo (Sendinblue) API key
BREVO_APIKEY=your_brevo_api_key

# [VAR] Brevo sender email address
BREVO_SENDEREMAIL=noreply@example.com

# [VAR] Brevo sender display name
BREVO_SENDERNAME=Pana MIA

# [VAR] Brevo environment (DEV or PROD)
BREVO_ENV=DEV

# =============================================================================
# BLOB STORAGE (Vercel Blob)
# https://vercel.com/dashboard/stores
# =============================================================================

# [SECRET] Vercel Blob storage token
BLOB_READ_WRITE_TOKEN=vercel_blob_rw_xxxx

# =============================================================================
# PUSHER (Real-time features)
# https://dashboard.pusher.com/
# =============================================================================

# [VAR] Pusher application ID
PUSHER_APP_ID=your_pusher_app_id

# [SECRET] Pusher key (for server auth)
PUSHER_KEY=your_pusher_key

# [SECRET] Pusher secret
PUSHER_SECRET=your_pusher_secret

# [VAR] Pusher key (public, for client)
NEXT_PUBLIC_PUSHER_KEY=your_pusher_key

# [VAR] Pusher cluster region
NEXT_PUBLIC_PUSHER_CLUSTER=us2

# =============================================================================
# STRIPE (Payments)
# https://dashboard.stripe.com/apikeys
# =============================================================================

# [VAR] Stripe publishable key (public)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# [SECRET] Stripe secret key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# =============================================================================
# DEVELOPMENT / TESTING
# =============================================================================

# [LOCAL] Development email redirect (safety feature)
# When set, ALL outbound emails are sent to this address instead of the
# intended recipients. This prevents accidentally emailing real users
# during development and testing. Leave unset in production.
DEV_RECEIVER_EMAIL=your_dev_email@example.com
